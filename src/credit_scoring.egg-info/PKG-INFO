Metadata-Version: 2.4
Name: credit-scoring
Version: 1.0.0
Summary: Machine learning-based credit scoring system for predicting loan defaults
Author: Credit Scoring Team
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Financial and Insurance Industry
Classifier: Topic :: Scientific/Engineering :: Artificial Intelligence
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: pandas>=1.5.0
Requires-Dist: numpy>=1.23.0
Requires-Dist: scikit-learn>=1.2.0
Requires-Dist: openpyxl>=3.0.0
Requires-Dist: pyarrow>=10.0.0
Requires-Dist: lxml>=4.9.0
Provides-Extra: dev
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: pytest-cov>=4.0.0; extra == "dev"
Dynamic: author
Dynamic: classifier
Dynamic: description
Dynamic: description-content-type
Dynamic: license-file
Dynamic: provides-extra
Dynamic: requires-dist
Dynamic: requires-python
Dynamic: summary

# Credit Scoring Module

A machine learning-based credit scoring system that predicts whether customers will default on their loans.

## ðŸš€ Quick Links

- **[Quick Start Guide](QUICKSTART.md)** - Get started in 5 minutes
- **[Usage Guide](USAGE_GUIDE.md)** - Detailed usage with examples
- **[Project Structure](PROJECT_STRUCTURE.md)** - Technical documentation

## Overview

This module analyzes customer data from multiple sources (demographics, credit history, financial ratios, loan details, geographic data, and application metadata) to predict credit default risk.

**Problem**: Given customer data, predict if they will default on loan payments (0 = will pay, 1 = will default)

**Solution**: Machine learning model trained on historical data to predict future defaults

## Data Sources

The system expects 6 input files in the data directory:

1. **loan_details.csv** - Loan information (customer_id, loan_type, loan_amount, etc.)
2. **demographics.csv** - Customer demographics (cust_id, age, income, education, etc.)
3. **financial_ratios.jsonl** - Financial ratios (cust_num, debt_to_income_ratio, credit_utilization, etc.)
4. **credit_history.jsonl** - Credit history (customer_number, credit_score, num_credit_accounts, etc.)
5. **geographic_data.csv** - Geographic information (id, state, regional_unemployment_rate, etc.)
6. **application_metadata.csv** - Application metadata (customer_ref, application_id, default, etc.)

**Note:** Customer ID columns have different names in each file but represent the same customers:
- loan_details: `customer_id`
- demographics: `cust_id`
- financial_ratios: `cust_num`
- credit_history: `customer_number`
- geographic_data: `id`
- application_metadata: `customer_ref`

## Installation

```bash
pip install -r requirements.txt
```

## Usage

### Training the Model

Train the model using historical data (with known defaults):

```bash
python src/main.py train --data-dir ./data --output-model credit_model.pkl
```

Options:
- `--data-dir`: Directory containing training data files (required)
- `--output-model`: Path to save trained model (default: credit_model.pkl)
- `--model-type`: Model type - random_forest, gradient_boosting, or logistic (default: random_forest)

### Making Predictions

Predict defaults for new customers:

```bash
python src/main.py predict --data-dir ./data --model credit_model.pkl --output predictions.csv
```

Options:
- `--data-dir`: Directory containing data files for prediction (required)
- `--model`: Path to trained model file (required)
- `--output`: Path to save predictions (default: predictions.csv)

## Output

The prediction command generates two CSV files:

1. **predictions.csv** - Full results with probabilities:
   - customer_id
   - default (0 = will pay, 1 = will default)
   - default_probability

2. **predictions_simple.csv** - Simple format for submission:
   - customer_id
   - default

## Model Features

The model uses the following types of features:

- **Demographic**: Age, income, employment, education, marital status
- **Credit History**: Credit score, number of accounts, delinquencies, inquiries
- **Financial Ratios**: Debt-to-income ratio, credit utilization, payment ratios
- **Loan Details**: Loan amount, term, interest rate, loan type
- **Geographic**: Regional unemployment, median income, cost of living
- **Application**: Application timing, account age, customer service interactions

## Performance

The model is evaluated using:
- Accuracy: Overall prediction accuracy
- AUC-ROC: Area under the ROC curve
- Classification Report: Precision, recall, and F1-score for each class

## Example Workflow

1. Prepare your data in the data directory:
```
data/
â”œâ”€â”€ loan_details.csv
â”œâ”€â”€ demographics.csv
â”œâ”€â”€ financial_ratios.jsonl
â”œâ”€â”€ credit_history.jsonl
â”œâ”€â”€ geographic_data.csv
â””â”€â”€ application_metadata.csv
```

2. Train the model:
```bash
python src/main.py train --data-dir ./data
```

3. For prediction on new data (without default column), remove the default column from application_metadata.csv and run:
```bash
python src/main.py predict --data-dir ./data --model credit_model.pkl --output predictions.csv
```

4. The output file `predictions_simple.csv` will contain customer_id and predicted default values.

## Target Variable

- **default**: 0 = Customer will pay the loan, 1 = Customer will default

## Algorithm

The default model uses Random Forest with:
- 100 trees
- Balanced class weights to handle imbalanced data
- Feature scaling for improved performance
- Cross-validation for robust evaluation

## Testing

Run the test suite to verify everything works:

```bash
# Unit tests (data loading, preprocessing)
python tests/test_data_loader.py

# Integration tests (full workflow)
python tests/test_integration.py
```

The integration test simulates the hackathon evaluation process:
1. Trains model on data with 'default' column
2. Removes 'default' column
3. Makes predictions
4. Validates output format
5. Calculates accuracy

## Project Structure

```
credit-scoring/
â”œâ”€â”€ data/                    # Sample training data (6 files)
â”œâ”€â”€ src/                     # Source code
â”‚   â”œâ”€â”€ data_loader.py      # Data loading and merging
â”‚   â”œâ”€â”€ feature_engineering.py  # Feature creation
â”‚   â”œâ”€â”€ credit_scorer.py    # ML model
â”‚   â””â”€â”€ main.py             # CLI interface
â”œâ”€â”€ tests/                   # Test suite
â”œâ”€â”€ README.md               # This file
â”œâ”€â”€ QUICKSTART.md           # 5-minute quick start
â”œâ”€â”€ USAGE_GUIDE.md          # Detailed usage
â””â”€â”€ PROJECT_STRUCTURE.md    # Technical docs
```

## Documentation

- **[QUICKSTART.md](QUICKSTART.md)** - Get started in 5 minutes with step-by-step instructions
- **[USAGE_GUIDE.md](USAGE_GUIDE.md)** - Comprehensive usage guide with examples and troubleshooting
- **[PROJECT_STRUCTURE.md](PROJECT_STRUCTURE.md)** - Complete technical documentation, architecture, and implementation details
